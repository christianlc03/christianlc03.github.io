<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mi Portafolio</title>
    <link rel="stylesheet" href="../css/styles.css" />
    <!-- Aquí podrías añadir algún icono para las redes o usar fontawesome -->
</head>
<body>
    <header>
        <nav class="menu">
              <div class="logo">
                <a href="#"><img src="../images/logo_lorrao3.png" alt="Logo" /></a>
              </div>
            <ul class="menu-items">
              <li><a href="../index.html">Inicio</a></li>
              <li class="dropdown">
                <a href="#">Proyectos ▼</a>
                <ul class="submenu">
                  <li><a href="../pages/proyectos_unity.html">Unity</a></li>
                  <li><a href="../pages/proyectos_blender.html">Blender</a></li>
                </ul>
              </li>
              <li><a href="../pages/sobre_mi.html">Sobre mí</a></li>
            </ul>
          </nav>
    </header>
<section class="proyecto-section">
  <div class="proyecto-item">
    <div class="galeria-container" data-imagenes='[
  "../images/Proyectos_Blender/Hollow_Knight/render1.png",
  "../videos/Proyectos_Blender/Hollow_Knight/thehollowknight.mp4"
]'>
  <button class="flecha izquierda">←</button>
  <div class="contenido-activo"></div>
  <button class="flecha derecha">→</button>
</div>

    <div class="descripcion-proyecto">
      <h2>Modelo 3D Hollow Knight</h2>
      <p>Realice este modelo 3d para usarlo como asset en un prototipo de runner 2d que hice en unity.</p>
    </div>
    </div>

  <!-- Otro proyecto debajo -->
<div class="proyecto-item">
<div class="galeria-container" data-imagenes='[
  "../images/Proyectos_Blender/Cuchillo_Mariposa/render_expositorio.png",
  "../videos/Proyectos_Blender/Cuchillo_Mariposa/animacion_cuchillo.mp4",
  "../videos/Proyectos_Blender/Cuchillo_Mariposa/animacion_mostrar.mp4"
]'>
  <button class="flecha izquierda">←</button>
  <div class="contenido-activo"></div>
  <button class="flecha derecha">→</button>
</div>

    <div class="descripcion-proyecto">
      <h2>Cuchillo Mariposa Estilo Valorant</h2>
      <p>
Para este proyecto decidí buscar en artstation concepts art de cuchillos del valorant, vi uno que me gusto mucho de @vngbin.art, lo modele y texturice en blender y después les hice una animación de como se vería en el juego.</p>
    </div>
    <!-- misma estructura que el anterior -->
  </div>

    <!-- Otro proyecto debajo -->
<div class="proyecto-item">
<div class="galeria-container" data-imagenes='[
  "../images/Proyectos_Blender/Estadio_SevillaFC/render1.png"
]'>
  <button class="flecha izquierda">←</button>
  <div class="contenido-activo"></div>
  <button class="flecha derecha">→</button>
</div>

    <div class="descripcion-proyecto">
      <h2>Estadio Ramón Sánchez-Pizjuán con el tercer anillo</h2>
      <p>
En este proyecto le creé mediante el programa fSpy y Blender un tercer anillo al estadio actual del Sevilla FC, y para integrarlo mejor hice la cubierta del estadio adaptandola al nuevo anillo.</p>
    </div>
    <!-- misma estructura que el anterior -->
  </div>

</section>

<script>
  document.querySelectorAll(".galeria-container").forEach((galeria) => {
    const archivos = JSON.parse(galeria.getAttribute("data-imagenes"));
    let indice = 0;

    const contenido = galeria.querySelector(".contenido-activo");
    const btnIzq = galeria.querySelector(".flecha.izquierda");
    const btnDer = galeria.querySelector(".flecha.derecha");

      // Ocultar flechas si solo hay 1 o menos archivos
  if (archivos.length <= 1) {
    btnIzq.style.display = "none";
    btnDer.style.display = "none";
  } else {
    btnIzq.style.display = ""; // mostrar si tenía estilo inline oculto antes
    btnDer.style.display = "";
  }

    function cargarArchivo(i) {
      const archivo = archivos[i];
      const extension = archivo.split('.').pop().toLowerCase();

      contenido.innerHTML = ""; // limpiar contenido

      if (["mp4", "webm", "ogg"].includes(extension)) {
        // Es un video
        const video = document.createElement("video");
        video.src = archivo;
        video.controls = true;
        video.autoplay = true;
        video.loop = true;
        video.classList.add("media-activa"); //agregar clase
        contenido.appendChild(video);
      } else {
        // Es una imagen
        const img = document.createElement("img");
        img.src = archivo;
        img.alt = "...";
        img.classList.add("media-activa"); //agregar clase
        contenido.appendChild(img);
      }
    }

    btnIzq.addEventListener("click", () => {
      indice = (indice - 1 + archivos.length) % archivos.length;
      cargarArchivo(indice);
    });

    btnDer.addEventListener("click", () => {
      indice = (indice + 1) % archivos.length;
      cargarArchivo(indice);
    });

    // Carga inicial
    cargarArchivo(indice);
  });
</script>

</body>